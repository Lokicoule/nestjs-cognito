(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[373],{4192:function(){},6373:function(e,t,i){"use strict";var n;function o(e){return void 0===e||e}function s(e){let t=Array(e);for(let i=0;i<e;i++)t[i]=r();return t}function r(){return Object.create(null)}function a(e,t){return t.length-e.length}function c(e){return"string"==typeof e}function l(e){return"object"==typeof e}function u(e){return"function"==typeof e}function h(e,t){var i=d;if(e&&(t&&(e=p(e,t)),this.H&&(e=p(e,this.H)),this.J&&1<e.length&&(e=p(e,this.J)),i||""===i)){if(t=e.split(i),this.filter){e=this.filter,i=t.length;let n=[];for(let o=0,s=0;o<i;o++){let i=t[o];i&&!e[i]&&(n[s++]=i)}e=n}else e=t}return e}i.r(t),i.d(t,{search:function(){return $}});let d=/[\p{Z}\p{S}\p{P}\p{C}]+/u,g=/[\u0300-\u036f]/g;function f(e,t){let i=Object.keys(e),n=i.length,o=[],s="",r=0;for(let a=0,c,l;a<n;a++)(l=e[c=i[a]])?(o[r++]=m(t?"(?!\\b)"+c+"(\\b|_)":c),o[r++]=l):s+=(s?"|":"")+c;return s&&(o[r++]=m(t?"(?!\\b)("+s+")(\\b|_)":"("+s+")"),o[r]=""),o}function p(e,t){for(let i=0,n=t.length;i<n&&(e=e.replace(t[i],t[i+1]));i+=2);return e}function m(e){return RegExp(e,"g")}function y(e){let t="",i="";for(let n=0,o=e.length,s;n<o;n++)(s=e[n])!==i&&(t+=i=s);return t}function v(e){return h.call(this,(""+e).toLowerCase(),!1)}let k={},w={};function b(e){C(e,"add"),C(e,"append"),C(e,"search"),C(e,"update"),C(e,"remove")}function C(e,t){e[t+"Async"]=function(){let e;let i=this,n=arguments;var o=n[n.length-1];return u(o)&&(e=o,delete n[n.length-1]),o=new Promise(function(e){setTimeout(function(){i.async=!0;let o=i[t].apply(i,n);i.async=!1,e(o)})}),e?(o.then(e),this):o}}function A(e,t,i,n){let o=e.length,s=[],a,c,l=0;n&&(n=[]);for(let u=o-1;0<=u;u--){let h=e[u],d=h.length,g=r(),f=!a;for(let e=0;e<d;e++){let r=h[e],d=r.length;if(d)for(let e=0,h,p;e<d;e++)if(p=r[e],a){if(a[p]){if(!u){if(i)i--;else if(s[l++]=p,l===t)return s}(u||n)&&(g[p]=1),f=!0}if(n&&(h=(c[p]||0)+1,c[p]=h,h<o)){let e=n[h-2]||(n[h-2]=[]);e[e.length]=p}}else g[p]=1}if(n)a||(c=g);else if(!f)return[];a=g}if(n)for(let e=n.length-1,o,r;0<=e;e--){r=(o=n[e]).length;for(let e=0,n;e<r;e++)if(!a[n=o[e]]){if(i)i--;else if(s[l++]=n,l===t)return s;a[n]=1}}return s}function T(e){this.l=!0!==e&&e,this.cache=r(),this.h=[]}function S(e,t,i){l(e)&&(e=e.query);let n=this.cache.get(e);return n||(n=this.search(e,t,i),this.cache.set(e,n)),n}T.prototype.set=function(e,t){if(!this.cache[e]){var i=this.h.length;for(i===this.l?delete this.cache[this.h[i-1]]:i++,--i;0<i;i--)this.h[i]=this.h[i-1];this.h[0]=e}this.cache[e]=t},T.prototype.get=function(e){let t=this.cache[e];if(this.l&&t&&(e=this.h.indexOf(e))){let t=this.h[e-1];this.h[e-1]=this.h[e],this.h[e]=t}return t};let W={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function x(e,t,i,n,o,s,r,a){setTimeout(function(){let c=e(i?i+"."+n:n,JSON.stringify(r));c&&c.then?c.then(function(){t.export(e,t,i,o,s+1,a)}):t.export(e,t,i,o,s+1,a)})}function P(e,t){if(!(this instanceof P))return new P(e);if(e){c(e)?e=W[e]:(i=e.preset)&&(e=Object.assign({},i[i],e)),i=e.charset;var i,n=e.lang;c(i)&&(-1===i.indexOf(":")&&(i+=":default"),i=w[i]),c(n)&&(n=k[n])}else e={};let a,l,u=e.context||{};if(this.encode=e.encode||i&&i.encode||v,this.register=t||r(),this.D=a=e.resolution||9,this.G=t=i&&i.G||e.tokenize||"strict",this.depth="strict"===t&&u.depth,this.l=o(u.bidirectional),this.s=l=o(e.optimize),this.m=o(e.fastupdate),this.B=e.minlength||1,this.C=e.boost,this.map=l?s(a):r(),this.A=a=u.resolution||1,this.h=l?s(a):r(),this.F=i&&i.F||e.rtl,this.H=(t=e.matcher||n&&n.H)&&f(t,!1),this.J=(t=e.stemmer||n&&n.J)&&f(t,!0),i=t=e.filter||n&&n.filter){i=t,n=r();for(let e=0,t=i.length;e<t;e++)n[i[e]]=1;i=n}this.filter=i,this.cache=(t=e.cache)&&new T(t)}function J(e,t,i,n,o){return i&&1<e?t+(n||0)<=e?i+(o||0):(e-1)/(t+(n||0))*(i+(o||0))+1|0:0}function j(e,t,i,n,o,s,a){let c=a?e.h:e.map;(!t[i]||a&&!t[i][a])&&(e.s&&(c=c[n]),a?((t=t[i]||(t[i]=r()))[a]=1,c=c[a]||(c[a]=r())):t[i]=1,c=c[i]||(c[i]=[]),e.s||(c=c[n]||(c[n]=[])),s&&c.includes(o)||(c[c.length]=o,e.m&&((e=e.register[o]||(e.register[o]=[]))[e.length]=c)))}function I(e,t,i,n,o,s,r,a){let c=[],l=a?e.h:e.map;if(e.s||(l=G(l,r,a,e.l)),l){let i=0,u=Math.min(l.length,a?e.A:e.D);for(let t=0,h=0,d,g;t<u&&(!(d=l[t])||(e.s&&(d=G(d,r,a,e.l)),o&&d&&s&&((g=d.length)<=o?(o-=g,d=null):(d=d.slice(o),o=0)),!d||(c[i++]=d,!s||!((h+=d.length)>=n))));t++);if(i)return s?U(c,n,0):void(t[t.length]=c)}return!i&&c}function U(e,t,i){return e=1===e.length?e[0]:[].concat.apply([],e),i||e.length>t?e.slice(i,i+t):e}function G(e,t,i,n){return e=i?(e=e[(n=n&&t>i)?t:i])&&e[n?i:t]:e[t]}function R(e,t,i,n,o){let s=0;if(e.constructor===Array){if(o)-1!==(t=e.indexOf(t))?1<e.length&&(e.splice(t,1),s++):s++;else{o=Math.min(e.length,i);for(let r=0,a;r<o;r++)(a=e[r])&&(s=R(a,t,i,n,o),n||s||delete e[r])}}else for(let r in e)(s=R(e[r],t,i,n,o))||delete e[r];return s}function N(e){e=e.data;var t=self._index;let i=e.args;var n=e.task;"init"===n?(n=e.options||{},e=e.factory,t=n.encode,n.cache=!1,t&&0===t.indexOf("function")&&(n.encode=Function("return "+t)()),e?(Function("return "+e)()(self),self._index=new self.FlexSearch.Index(n),delete self.FlexSearch):self._index=new P(n)):(e=e.id,t=t[n].apply(t,i),postMessage("search"===n?{id:e,msg:t}:{id:e}))}(n=P.prototype).append=function(e,t){return this.add(e,t,!0)},n.add=function(e,t,i,n){if(t&&(e||0===e)){if(!n&&!i&&this.register[e])return this.update(e,t);if(n=(t=this.encode(t)).length){let u=r(),h=r(),d=this.depth,g=this.D;for(let f=0;f<n;f++){let p=t[this.F?n-1-f:f];var o=p.length;if(p&&o>=this.B&&(d||!h[p])){var s=J(g,n,f),a="";switch(this.G){case"full":if(2<o){for(s=0;s<o;s++)for(var c=o;c>s;c--)if(c-s>=this.B){var l=J(g,n,f,o,s);j(this,h,a=p.substring(s,c),l,e,i)}break}case"reverse":if(1<o){for(c=o-1;0<c;c--)(a=p[c]+a).length>=this.B&&j(this,h,a,J(g,n,f,o,c),e,i);a=""}case"forward":if(1<o){for(c=0;c<o;c++)(a+=p[c]).length>=this.B&&j(this,h,a,s,e,i);break}default:if(this.C&&(s=Math.min(s/this.C(t,p,f)|0,g-1)),j(this,h,p,s,e,i),d&&1<n&&f<n-1){for(o=r(),a=this.A,s=p,c=Math.min(d+1,n-f),o[s]=1,l=1;l<c;l++)if((p=t[this.F?n-1-f-l:f+l])&&p.length>=this.B&&!o[p]){o[p]=1;let t=this.l&&p>s;j(this,u,t?s:p,J(a+(n/2>a?0:1),n,f,c-1,l-1),e,i,t?p:s)}}}}}this.m||(this.register[e]=1)}}return this},n.search=function(e,t,i){let n,o,s;i||(!t&&l(e)?e=(i=e).query:l(t)&&(i=t));let c=[],u,h,d=0;if(i){e=i.query||e,t=i.limit,d=i.offset||0;var g=i.context;h=i.suggest}if(e&&1<(u=(e=this.encode(""+e)).length)){i=r();var f=[];for(let t=0,n=0,o;t<u;t++)if((o=e[t])&&o.length>=this.B&&!i[o]){if(!this.s&&!h&&!this.map[o])return c;f[n++]=o,i[o]=1}u=(e=f).length}if(!u)return c;for(t||(t=100),g=this.depth&&1<u&&!1!==g,i=0,g?(n=e[0],i=1):1<u&&e.sort(a);i<u;i++){if(s=e[i],g?(o=I(this,c,h,t,d,2===u,s,n),h&&!1===o&&c.length||(n=s)):o=I(this,c,h,t,d,1===u,s),o)return o;if(h&&i===u-1){if(!(f=c.length)){if(g){g=0,i=-1;continue}return c}if(1===f)return U(c[0],t,d)}}return A(c,t,d,h)},n.contain=function(e){return!!this.register[e]},n.update=function(e,t){return this.remove(e).add(e,t)},n.remove=function(e,t){let i=this.register[e];if(i){if(this.m)for(let t=0,n;t<i.length;t++)(n=i[t]).splice(n.indexOf(e),1);else R(this.map,e,this.D,this.s),this.depth&&R(this.h,e,this.A,this.s);if(t||delete this.register[e],this.cache){t=this.cache;for(let i=0,n;i<t.h.length;i++)n=t.h[i],t.cache[n].includes(e)&&(t.h.splice(i--,1),delete t.cache[n])}}return this},n.searchCache=S,n.export=function(e,t,i,n,o,s){let a,c,l=!0;switch(void 0===s&&(l=new Promise(e=>{s=e})),o||(o=0)){case 0:if(a="reg",this.m)for(let e in c=r(),this.register)c[e]=1;else c=this.register;break;case 1:a="cfg",c={doc:0,opt:this.s?1:0};break;case 2:a="map",c=this.map;break;case 3:a="ctx",c=this.h;break;default:void 0===i&&s&&s();return}return x(e,t||this,i,a,n,o,c,s),l},n.import=function(e,t){if(t)switch(c(t)&&(t=JSON.parse(t)),e){case"cfg":this.s=!!t.opt;break;case"reg":this.m=!1,this.register=t;break;case"map":this.map=t;break;case"ctx":this.h=t}},b(P.prototype);let q=0;function B(e){var t;if(!(this instanceof B))return new B(e);e?u(t=e.encode)&&(e.encode=t.toString()):e={},(t=(self||window)._factory)&&(t=t.toString());let n="undefined"==typeof window&&self.exports,o=this;this.o=function(e,t,n){let o;try{o=t?new(i(4192)).Worker("//node/node.js"):e?new Worker(URL.createObjectURL(new Blob(["onmessage="+N.toString()],{type:"text/javascript"}))):new Worker(c(n)?n:"worker/worker.js",{type:"module"})}catch(e){}return o}(t,n,e.worker),this.h=r(),this.o&&(n?this.o.on("message",function(e){o.h[e.id](e.msg),delete o.h[e.id]}):this.o.onmessage=function(e){e=e.data,o.h[e.id](e.msg),delete o.h[e.id]},this.o.postMessage({task:"init",factory:t,options:e}))}function z(e){B.prototype[e]=B.prototype[e+"Async"]=function(){let t;let i=this,n=[].slice.call(arguments);var o=n[n.length-1];return u(o)&&(t=o,n.splice(n.length-1,1)),o=new Promise(function(t){setTimeout(function(){i.h[++q]=t,i.o.postMessage({task:e,id:q,args:n})})}),t?(o.then(t),this):o}}function M(e){if(!(this instanceof M))return new M(e);var t,i=e.document||e.doc||e;this.K=[],this.h=[],this.A=[],this.register=r(),this.key=(t=i.key||i.id)&&V(t,this.A)||"id",this.m=o(e.fastupdate),this.C=(t=i.store)&&!0!==t&&[],this.store=t&&r(),this.I=(t=i.tag)&&V(t,this.A),this.l=t&&r(),this.cache=(t=e.cache)&&new T(t),e.cache=!1,this.o=e.worker,this.async=!1,t=r();let n=i.index||i.field||i;c(n)&&(n=[n]);for(let i=0,o,s;i<n.length;i++)c(o=n[i])||(s=o,o=o.field),s=l(s)?Object.assign({},e,s):e,this.o&&(t[o]=new B(s),t[o].o||(this.o=!1)),this.o||(t[o]=new P(s,this.register)),this.K[i]=V(o,this.A),this.h[i]=o;if(this.C)for(c(e=i.store)&&(e=[e]),i=0;i<e.length;i++)this.C[i]=V(e[i],this.A);this.index=t}function V(e,t){let i=e.split(":"),n=0;for(let o=0;o<i.length;o++)0<=(e=i[o]).indexOf("[]")&&(e=e.substring(0,e.length-2))&&(t[n]=!0),e&&(i[n++]=e);return n<i.length&&(i.length=n),1<n?i:i[0]}function F(e,t){if(c(t))e=e[t];else for(let i=0;e&&i<t.length;i++)e=e[t[i]];return e}function O(e,t,i,n){let o=this.l[e],s=o&&o.length-i;if(s&&0<s)return(s>t||i)&&(o=o.slice(i,i+t)),n&&(o=D.call(this,o)),{tag:e,result:o}}function D(e){let t=Array(e.length);for(let i=0,n;i<e.length;i++)n=e[i],t[i]={id:n,doc:this.store[n]};return t}z("add"),z("append"),z("search"),z("update"),z("remove"),(n=M.prototype).add=function(e,t,i){if(l(e)&&(e=F(t=e,this.key)),t&&(e||0===e)){if(!i&&this.register[e])return this.update(e,t);for(let n=0,o,s;n<this.h.length;n++)s=this.h[n],c(o=this.K[n])&&(o=[o]),function e(t,i,n,o,s,r,a,c){if(t=t[a]){if(o===i.length-1){if(t.constructor===Array){if(n[o]){for(i=0;i<t.length;i++)s.add(r,t[i],!0,!0);return}t=t.join(" ")}s.add(r,t,c,!0)}else if(t.constructor===Array)for(a=0;a<t.length;a++)e(t,i,n,o,s,r,a,c);else a=i[++o],e(t,i,n,o,s,r,a,c)}}(t,o,this.A,0,this.index[s],e,o[0],i);if(this.I){let n=F(t,this.I),o=r();c(n)&&(n=[n]);for(let t=0,s,r;t<n.length;t++)if(!o[s=n[t]]&&(o[s]=1,r=this.l[s]||(this.l[s]=[]),!i||!r.includes(e))&&(r[r.length]=e,this.m)){let t=this.register[e]||(this.register[e]=[]);t[t.length]=r}}if(this.store&&(!i||!this.store[e])){let i;if(this.C){i=r();for(let e=0,n;e<this.C.length;e++)c(n=this.C[e])?i[n]=t[n]:function e(t,i,n,o,s){if(t=t[s],o===n.length-1)i[s]=t;else if(t){if(t.constructor===Array)for(i=i[s]=Array(t.length),s=0;s<t.length;s++)e(t,i,n,o,s);else i=i[s]||(i[s]=r()),s=n[++o],e(t,i,n,o,s)}}(t,i,n,0,n[0])}this.store[e]=i||t}}return this},n.append=function(e,t){return this.add(e,t,!0)},n.update=function(e,t){return this.remove(e).add(e,t)},n.remove=function(e){if(l(e)&&(e=F(e,this.key)),this.register[e]){for(var t=0;t<this.h.length&&(this.index[this.h[t]].remove(e,!this.o),!this.m);t++);if(this.I&&!this.m)for(let i in this.l){let n=(t=this.l[i]).indexOf(e);-1!==n&&(1<t.length?t.splice(n,1):delete this.l[i])}this.store&&delete this.store[e],delete this.register[e]}return this},n.search=function(e,t,i,n){i||(!t&&l(e)?(i=e,e=""):l(t)&&(i=t,t=0));let o=[],s=[],a,u,h,d,g,f,p=0;if(i){if(i.constructor===Array)h=i,i=null;else{if(e=i.query||e,h=(a=i.pluck)||i.index||i.field,d=i.tag,u=this.store&&i.enrich,g="and"===i.bool,t=i.limit||t||100,f=i.offset||0,d&&(c(d)&&(d=[d]),!e)){for(let e=0,i;e<d.length;e++)(i=O.call(this,d[e],t,f,u))&&(o[o.length]=i,p++);return p?o:[]}c(h)&&(h=[h])}}h||(h=this.h),g=g&&(1<h.length||d&&1<d.length);let m=!n&&(this.o||this.async)&&[];for(let a=0,l,y,v;a<h.length;a++){let k;if(c(y=h[a])||(y=(k=y).field,e=k.query||e,t=k.limit||t,u=k.enrich||u),m)m[a]=this.index[y].searchAsync(e,t,k||i);else{if(v=(l=n?n[a]:this.index[y].search(e,t,k||i))&&l.length,d&&v){let e=[],i=0;g&&(e[0]=[l]);for(let t=0,n,o;t<d.length;t++)n=d[t],(v=(o=this.l[n])&&o.length)&&(i++,e[e.length]=g?[o]:o);i&&(v=(l=g?A(e,t||100,f||0):function(e,t){let i=r(),n=r(),o=[];for(let t=0;t<e.length;t++)i[e[t]]=1;for(let e=0,s;e<t.length;e++){s=t[e];for(let e=0,t;e<s.length;e++)i[t=s[e]]&&!n[t]&&(n[t]=1,o[o.length]=t)}return o}(l,e)).length)}if(v)s[p]=y,o[p++]=l;else if(g)return[]}}if(m){let n=this;return new Promise(function(o){Promise.all(m).then(function(s){o(n.search(e,t,i,s))})})}if(!p)return[];if(a&&(!u||!this.store))return o[0];for(let e=0,t;e<s.length;e++){if((t=o[e]).length&&u&&(t=D.call(this,t)),a)return t;o[e]={field:s[e],result:t}}return o},n.contain=function(e){return!!this.register[e]},n.get=function(e){return this.store[e]},n.set=function(e,t){return this.store[e]=t,this},n.searchCache=S,n.export=function(e,t,i,n,o,s){let r;if(void 0===s&&(r=new Promise(e=>{s=e})),o||(o=0),n||(n=0),n<this.h.length){let i=this.h[n],r=this.index[i];t=this,setTimeout(function(){r.export(e,t,o?i:"",n,o++,s)||(n++,o=1,t.export(e,t,i,n,o,s))})}else{let t,r;switch(o){case 1:t="tag",r=this.l,i=null;break;case 2:t="store",r=this.store,i=null;break;default:s();return}x(e,this,i,t,n,o,r,s)}return r},n.import=function(e,t){if(t)switch(c(t)&&(t=JSON.parse(t)),e){case"tag":this.l=t;break;case"reg":this.m=!1,this.register=t;for(let e=0,i;e<this.h.length;e++)(i=this.index[this.h[e]]).register=t,i.m=!1;break;case"store":this.store=t;break;default:let i=(e=e.split("."))[0];e=e[1],i&&e&&this.index[i].import(e,t)}},b(M.prototype);let E=[m("[\xe0\xe1\xe2\xe3\xe4\xe5]"),"a",m("[\xe8\xe9\xea\xeb]"),"e",m("[\xec\xed\xee\xef]"),"i",m("[\xf2\xf3\xf4\xf5\xf6ő]"),"o",m("[\xf9\xfa\xfb\xfcű]"),"u",m("[\xfdŷ\xff]"),"y",m("\xf1"),"n",m("[\xe7c]"),"k",m("\xdf"),"s",m(" & ")," and "];function L(e){var t=e=""+e;return t.normalize&&(t=t.normalize("NFD").replace(g,"")),h.call(this,t.toLowerCase(),!e.normalize&&E)}let _=/[^a-z0-9]+/,H={b:"p",v:"f",w:"f",z:"s",x:"s",ß:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function K(e){e=L.call(this,e).join(" ");let t=[];if(e){let i=e.split(_),n=i.length;for(let o=0,s,r=0;o<n;o++)if((e=i[o])&&(!this.filter||!this.filter[e])){let i=H[s=e[0]]||s,n=i;for(let t=1;t<e.length;t++){let o=H[s=e[t]]||s;o&&o!==n&&(i+=o,n=o)}t[r++]=i}}return t}let Q=[m("ae"),"a",m("oe"),"o",m("sh"),"s",m("th"),"t",m("ph"),"f",m("pf"),"f",m("(?![aeo])h(?![aeo])"),"",m("(?!^[aeo])h(?!^[aeo])"),""];function Y(e,t){return e&&(2<(e=K.call(this,e).join(" ")).length&&(e=p(e,Q)),t||(1<e.length&&(e=y(e)),e&&(e=e.split(" ")))),e||[]}let Z=m("(?!\\b)[aeo]");w["latin:default"]={encode:v,F:!1,G:""},w["latin:simple"]={encode:L,F:!1,G:""},w["latin:balance"]={encode:K,F:!1,G:"strict"},w["latin:advanced"]={encode:Y,F:!1,G:""},w["latin:extra"]={encode:function(e){return e&&(1<(e=Y.call(this,e,!0)).length&&(e=e.replace(Z,"")),1<e.length&&(e=y(e)),e&&(e=e.split(" "))),e||[]},F:!1,G:""};let X=new({Index:P,Document:M,Worker:B,registerCharset:function(e,t){w[e]=t},registerLanguage:function(e,t){k[e]=t}}).Document({tokenize:"full",document:{id:"url",index:"content",store:["title","pageTitle"]},context:{resolution:9,depth:2,bidirectional:!0}});for(let{url:e,sections:t}of[{url:"/",sections:[["Get Started with NestJS-Cognito",null,["Add AWS Cognito to your NestJS app in minutes. Simple, secure, and ready for production."]],["Features","features",["Quick Setup: Connect to AWS Cognito in under 5 minutes","Simple Guards: One line of code to protect your routes","GraphQL Support: Works seamlessly with your GraphQL apps","Testing Made Easy: Write tests with confidence","Zero Config: Works right out of the box"]],["Why NestJS-Cognito?","why-nest-js-cognito",["We make AWS Cognito authentication dead simple:","Built-in Security","Powered by aws-jwt-verify, security comes standard:","Auto Key Management: JWKS keys handled automatically","Complete Protection: All essential checks included:","Token signatures","Expiration times","Issuer validation","Audience checks","Token use verification","Role-Based Access Control (RBAC)","NestJS-Cognito makes implementing RBAC with AWS Cognito groups seamless:","Cognito Groups Integration: Automatically maps AWS Cognito groups to roles","Custom Attribute Support: Leverage custom attributes for fine-grained permissions","Guard-Level Authorization: Protect routes based on roles or custom claims","Flexible Role Checking: Use decorators or guards for role verification","Comparison with Passport.js","While Passport.js is a popular authentication middleware for Node.js, NestJS-Cognito offers several advantages when working specifically with AWS Cognito:","Specialized Integration: Unlike Passport.js which requires manual setup and configuration for AWS Cognito, NestJS-Cognito provides out-of-the-box integration with AWS Cognito services.","Built-in Token Verification: NestJS-Cognito handles all aspects of token verification internally, while with Passport.js, you would need to manually implement token verification logic or rely on additional packages.","AWS Best Practices: By using aws-jwt-verify under the hood, NestJS-Cognito ensures compliance with AWS security best practices, which would require additional effort to implement correctly with Passport.js."]]]},{url:"/credits",sections:[["Credits",null,[]],["Icons and Visual Assets","icons-and-visual-assets",["Cyber Security Icons: Created by Ardiansyah on Flaticon"]]]},{url:"/quickstart",sections:[["Quick Start Guide",null,["Get up and running with @nestjs-cognito quickly. This guide covers essential setup and basic usage."]],["Installation","installation",[]],["Basic Setup","basic-setup",["1. Configure Environment Variables","Create a .env file in your project root:","2. Module Configuration","Import and configure the CognitoAuthModule in your app.module.ts:"]],["Basic Usage","basic-usage",["Protected Routes","Use the @Authentication() decorator to protect your routes:","Public Routes","Use @PublicRoute() for routes that don't require authentication:","Group-based Authorization","Restrict access based on Cognito user groups:"]]]},{url:"/api/core-package",sections:[["Core Package",null,["The Core package provides essential adapters and interfaces that serve as the foundation for AWS Cognito integration in NestJS applications. It includes key components for JWT verification, Cognito Identity Provider integration, and dependency injection."]],["Installation","installation",[]],["Package Architecture","package-architecture",["The Core package provides essential adapters and interfaces that are used by other packages in the @nestjs-cognito ecosystem:","CognitoJwtVerifier: An adapter for verifying JWT tokens issued by AWS Cognito","CognitoIdentityProvider: Integration with AWS Cognito Identity Provider service","Dependency Injection Tokens: Tokens for proper dependency injection in NestJS applications"]],["Basic Usage","basic-usage",["Cognito Identity Provider","The package provides direct access to AWS Cognito Identity Provider through dependency injection:"]],["Integration with Other Packages","integration-with-other-packages",["The Core package serves as the foundation for other @nestjs-cognito packages:","Provides essential adapters and interfaces used by the Auth package","Enables JWT verification capabilities across the ecosystem","Facilitates proper dependency injection in NestJS applications"]]]},{url:"/api/integration",sections:[["Integration Guide",null,["The @nestjs-cognito/core package provides two main adapters for AWS Cognito integration:","CognitoJwtVerifier: An adapter for verifying JWT tokens issued by AWS Cognito","CognitoIdentityProvider: An adapter for interacting with AWS Cognito user management services","This guide demonstrates how to effectively use these adapters in your NestJS applications."]],["Common Integration Patterns","common-integration-patterns",["Using JWT Verification","Using Identity Provider"]],["Module Integration Examples","module-integration-examples",["Using with @nestjs-cognito/auth Package","When implementing authentication features using the auth package, use CognitoAuthModule:","Using Core Package Only","When you only need core functionality without authentication features, use CognitoModule:","Choose the appropriate module based on your implementation needs:","Use CognitoAuthModule when you need authentication features from the @nestjs-cognito/auth package","Use CognitoModule when you only need core functionality like JWT verification and Cognito Identity Provider integration"]]]},{url:"/api/jwt-verification",sections:[["JWT Verification",null,["The @nestjs-cognito/core package provides two mutually exclusive JWT verification implementations that share the same injection token. The implementation you get depends on your module configuration."]],["JWT Claims Verification","jwt-claims-verification",["Both implementations perform comprehensive JWT claims verification according to AWS Cognito standards:","Expiration Check: Verifies the exp claim to ensure the token hasn't expired","Audience Validation:","For ID tokens: Validates the aud claim matches the app's client ID","For Access tokens: Validates the client_id claim matches the app's client ID","Issuer Verification: Validates the iss claim matches your Cognito User Pool's issuer URL format:\nhttps://cognito-idp.[REGION].amazonaws.com/[USER_POOL_ID]","Token Use Verification: Validates the token_use claim:","Must be access for access tokens","Must be id for ID tokens","Can be set to null to accept both token types"]],["Cognito JWT Verification","cognito-jwt-verification",["When you configure jwtVerifier in your module, this implementation is used to verify JWTs issued by AWS Cognito:"]],["RSA JWT Verification","rsa-jwt-verification",["When you configure jwtRsaVerifier in your module, this implementation is used to verify JWTs using RSA public keys:"]]]},{url:"/api/module-configuration",sections:[["Module Configuration",null,["The @nestjs-cognito/core module provides flexible configuration options for AWS Cognito integration and JWT verification. For detailed configuration options and examples, see the Core Package Documentation."]],["Async Configuration","async-configuration",["For dynamic configuration using environment variables or other async providers:"]],["Module Options","module-options",["CognitoModuleOptions","Core configuration interface:","Async Configuration Options"]],["Basic Configuration","basic-configuration",["To use the Cognito module, you need to configure it in your application's root module:"]],["Identity Provider Configuration","identity-provider-configuration",["The identityProvider configuration is required and sets up the AWS Cognito Identity Provider client:"]],["JWT Verification Configuration","jwt-verification-configuration",["You can configure either Cognito JWT verification or RSA JWT verification, but not both simultaneously.","Cognito JWT Verification","Single User Pool","Multiple User Pools","RSA JWT Verification","Single Issuer","Multiple Issuers"]],["JWK Cache Configuration","jwk-cache-configuration",["Both verification methods support JWK caching through the additionalProperties.jwksCache configuration:","This helps optimize performance by reducing the number of JWKS endpoint calls."]],["Important Notes","important-notes",["The identityProvider configuration is mandatory","Choose either jwtVerifier or jwtRsaVerifier based on your needs","JWK cache configuration is optional but recommended for production","When using multiple pools/issuers, each can have its own cache configuration"]]]},{url:"/guides/authentication",sections:[["Authentication",null,["Authentication is a crucial aspect of securing your NestJS application with AWS Cognito. This guide will walk you through implementing authentication using @nestjs-cognito/auth."]],["Overview","overview",["The authentication process in @nestjs-cognito involves verifying JWT tokens issued by AWS Cognito. When a user successfully logs in through Cognito, they receive JWT tokens that can be used to authenticate subsequent requests to your NestJS application."]],["Basic Setup","basic-setup",["First, ensure you have the auth package properly configured:"]],["Using @Authentication Decorator","using-authentication-decorator",["The @Authentication() decorator is the primary way to protect your routes. You can apply it at both the controller and route levels:","Controller-level Authentication","Route-level Authentication"]],["Public Routes","public-routes",["Sometimes you need to make certain routes public while keeping the controller-level authentication. Use the @PublicRoute() decorator for this:"]],["Token Verification","token-verification",["By default, @nestjs-cognito/auth verifies the following aspects of the JWT token:","Token signature using JWKS from Cognito","Token expiration","Token issuer (matches your Cognito User Pool)","Token audience (matches your Client ID)","Token use (access or id token)"]]]},{url:"/guides/authorization",sections:[["Authorization",null,["Implement group-based access control using NestJS-Cognito's authorization features. The @Authorization decorator includes authentication functionality by default, so you don't need to add the @Authentication decorator when using authorization."]],["Basic Authorization","basic-authorization",["Restrict access to specific Cognito user groups:"]],["Advanced Rules","advanced-rules",["Implement complex permission rules with multiple conditions:","Apply authorization rules using the guard directly:"]],["Best Practices","best-practices",["Group Structure","Hierarchical Groups","Create clear group hierarchies (e.g., 'admin' > 'manager' > 'user')","Use descriptive group names that reflect roles","Keep groups focused on specific responsibilities","Permission Management","Apply the principle of least privilege","Use required groups for mandatory permissions","Use allowed groups for optional access levels","Use prohibited groups for explicit denials","Implementation Tips","Combining Rules","Multiple Group Checks"]]]},{url:"/guides/cognito-user",sections:[["CognitoUser Decorator",null,["Learn how to access authenticated user information in your NestJS application using the @CognitoUser decorator."]],["Overview","overview",["The @CognitoUser decorator provides convenient access to the authenticated user's information from AWS Cognito. It can be used in three different ways to retrieve user data:","Full user object","Single property access","Multiple properties selection"]],["Usage Patterns","usage-patterns",["1. Full User Object","Retrieve the complete user object containing all available Cognito user information:","This approach gives you access to all user attributes available in the JWT token.","2. Single Property Access","Extract a specific property from the user object:","This method is useful when you only need one specific attribute, making your code more concise and explicit.","3. Multiple Properties Selection","Select multiple specific properties from the user object:","This approach allows you to select multiple specific attributes while excluding unnecessary data."]],["Available Properties","available-properties",["Common properties available through the @CognitoUser decorator:","sub - The unique identifier for the user","email - User's email address","email_verified - Email verification status","username - Cognito username","groups - User's group memberships","custom:* - Any custom attributes defined in your user pool","Authentication/Authorization: Use either the @Authentication() decorator or @Authorization() decorator when using @CognitoUser.","Error Handling: Handle cases where requested properties might not exist in the token payload:"]]]},{url:"/guides/custom-guards",sections:[["Custom Guards",null,["The @nestjs-cognito/auth package provides an abstract guard class that you can extend to create custom guards with specific validation logic. This guide will show you how to create custom guards by extending the AbstractGuard class."]],["Understanding AbstractGuard","understanding-abstract-guard",["The AbstractGuard class provides the core authentication functionality, including JWT verification and request handling. When you extend this class, you only need to implement two abstract methods:"]],["Creating a Custom Guard","creating-a-custom-guard",["Here's an example of creating a custom guard that validates if a user has a specific email domain:"]],["Using the Custom Guard","using-the-custom-guard",["You can use your custom guard like any other NestJS guard:"]],["Guard Inheritance Flow","guard-inheritance-flow",["When a request comes in, the following flow occurs:","The AbstractGuard.canActivate() method is called first","It verifies the JWT token and extracts the user information","If the route is not public, it calls your custom guard's onValidate() method","Your validation logic determines if the request is allowed"]],["Best Practices","best-practices",["Implementing getRequest","The getRequest method should handle the appropriate request type. For HTTP requests:","For WebSocket requests:","Validation Logic","Your onValidate method should:","Be focused and handle one specific validation concern","Return a boolean indicating if the validation passed","Not throw exceptions (the abstract guard handles that)","Be efficient as it runs on every request"]]]},{url:"/guides/graphql",sections:[["GraphQL Integration",null,["The @nestjs-cognito/graphql package provides GraphQL-specific decorators and guards for authentication and authorization."]],["Installation","installation",[]],["Basic Setup","basic-setup",["Configure the core authentication module:"]],["Authentication","authentication",["Protect your GraphQL operations using the @GqlAuthentication() decorator:"]],["Authorization","authorization",["Implement role-based access control with the @GqlAuthorization() decorator:"]],["User Information","user-information",["Access the authenticated user's information using the @GqlCognitoUser() decorator:"]]]},{url:"/guides/public-route",sections:[["Public Route",null,["The @PublicRoute decorator allows you to create endpoints that are accessible to both authenticated and unauthenticated users while maintaining security when credentials are provided."]],["Overview","overview",["Sometimes you need routes that can serve different content based on the user's authentication status. For example, you might want to show a personalized message for logged-in users while still allowing access to anonymous users."]],["Basic Usage","basic-usage",[]],["How It Works","how-it-works",["When using @PublicRoute with @Authentication, the behavior is as follows:","No JWT Token Present:","The route is accessible","The user parameter will be undefined","No authentication checks are performed","Valid JWT Token Present:","The route is accessible","The token is validated","User information is available via @CognitoUser()","Invalid JWT Token Present:","Returns 401 Unauthorized","The route is not accessible"]],["Token Validation Priority","token-validation-priority",["When both @Authentication and @PublicRoute decorators are present:","If a JWT token is provided, @Authentication takes precedence","The token must pass all validation checks (signature, expiration, issuer, etc.)","Invalid tokens will result in a 401 Unauthorized response"]],["Use Cases","use-cases",["Welcome Message","Content Preview"]],["Common Patterns","common-patterns",["Conditional Response","Mixed Access Levels"]]]},{url:"/guides/testing",sections:[["Testing",null,["The testing package provides comprehensive utilities and helpers for testing NestJS applications that use AWS Cognito authentication. It supports both real E2E testing with actual AWS services and mocked testing for faster development cycles."]],["Getting Started with Testing","getting-started-with-testing",["To begin testing your NestJS Cognito authentication, you'll need to install the required packages:"]],["HTTP Testing with Pactum","http-testing-with-pactum",["Pactum is a HTTP testing toolkit that makes it easy to test NestJS Cognito authentication endpoints.","Setting Up Pactum"]],["Real E2E Testing","real-e2-e-testing",["Real E2E testing allows you to validate your application against actual AWS Cognito services, ensuring production-ready authentication flows."]],["Mock Testing","mock-testing",["Mock testing is useful during development and CI/CD pipelines where real AWS Cognito services are not available or desired. Note that you must provide the mock configuration as the second argument to CognitoTestingModule.register() and explicitly enable mock mode."]],["Testing Scenarios","testing-scenarios",["Authentication Testing","Authorization Testing","Authentication Testing","Authorization Testing"]],["Advanced Testing","advanced-testing",["Dynamic User Configuration","Update mock settings during test execution:","Testing Different Token Types"]]]},{url:"/guides/websocket",sections:[["WebSocket Support",null,["This guide explains how to implement WebSocket authentication with AWS Cognito in your NestJS application using @nestjs-cognito/auth and @nestjs-cognito/core packages."]],["Overview","overview",["The WebSocket support in NestJS-Cognito allows you to authenticate WebSocket connections using JWT tokens from AWS Cognito. This is particularly useful for real-time applications that require secure, authenticated connections."]],["Implementation","implementation",["Gateway Setup","First, create a WebSocket gateway that implements the necessary interfaces and injects the CognitoJwtVerifier:","Client Connection","On the client side, include the JWT token in the connection headers:"]]]}])for(let[i,n,o]of t)X.add({url:e+(n?"#"+n:""),title:i,content:[i,...o].join("\n"),pageTitle:n?t[0][0]:void 0});function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=X.search(e,{...t,enrich:!0});return 0===i.length?[]:i[0].result.map(e=>({url:e.id,title:e.doc.title,pageTitle:e.doc.pageTitle}))}}}]);